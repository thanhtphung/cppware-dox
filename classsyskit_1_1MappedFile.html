<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>c++ gallery: syskit::MappedFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">c++ gallery
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>syskit</b></li><li class="navelem"><a class="el" href="classsyskit_1_1MappedFile.html">MappedFile</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsyskit_1_1MappedFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">syskit::MappedFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>memory-mapped file  
 <a href="classsyskit_1_1MappedFile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MappedFile_8hpp_source.html">syskit/MappedFile.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for syskit::MappedFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classsyskit_1_1MappedFile.png" usemap="#syskit::MappedFile_map" alt=""/>
  <map id="syskit::MappedFile_map" name="syskit::MappedFile_map">
<area href="classsyskit_1_1MappedTxtFile.html" title="memory-mapped text file " alt="syskit::MappedTxtFile" shape="rect" coords="0,56,132,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad75792539f0a7863bb2e315fac587216"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#ad75792539f0a7863bb2e315fac587216">MappedFile</a> (const wchar_t *path, bool readOnly=true, unsigned int <a class="el" href="classsyskit_1_1MappedFile.html#a5af5a845a24df65731b09704a823df34">mapSize</a>=0)</td></tr>
<tr class="separator:ad75792539f0a7863bb2e315fac587216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3925384c3ba1aec68375eee02bf2643a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a3925384c3ba1aec68375eee02bf2643a">MappedFile</a> (const wchar_t *path, unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#a841855191856d26a393a0fc8e620876c">size</a>, bool failIfExists, unsigned int <a class="el" href="classsyskit_1_1MappedFile.html#a5af5a845a24df65731b09704a823df34">mapSize</a>=0)</td></tr>
<tr class="separator:a3925384c3ba1aec68375eee02bf2643a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada359116a3b249f6d136affe6b394eeb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#ada359116a3b249f6d136affe6b394eeb">grow</a> (unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#a841855191856d26a393a0fc8e620876c">size</a>)</td></tr>
<tr class="separator:ada359116a3b249f6d136affe6b394eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c1cacf7aea8e5942e39db819c04fc1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49c1cacf7aea8e5942e39db819c04fc1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a49c1cacf7aea8e5942e39db819c04fc1">isReadOnly</a> () const </td></tr>
<tr class="memdesc:a49c1cacf7aea8e5942e39db819c04fc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if file is read-only. <br /></td></tr>
<tr class="separator:a49c1cacf7aea8e5942e39db819c04fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fdd7e4ab3e47a093ccaa3a713d865b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a75fdd7e4ab3e47a093ccaa3a713d865b">saveIn</a> (const wchar_t *path) const </td></tr>
<tr class="separator:a75fdd7e4ab3e47a093ccaa3a713d865b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682e3c5e11fa071b7430b26358b2a44b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a682e3c5e11fa071b7430b26358b2a44b">truncate</a> (unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#a841855191856d26a393a0fc8e620876c">size</a>)</td></tr>
<tr class="separator:a682e3c5e11fa071b7430b26358b2a44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b6b5281a453cd4634c826a7cce014c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7b6b5281a453cd4634c826a7cce014c"></a>
const unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#ab7b6b5281a453cd4634c826a7cce014c">map</a> (size_t index=0) const </td></tr>
<tr class="memdesc:ab7b6b5281a453cd4634c826a7cce014c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the address of the given view. First view has index zero. <br /></td></tr>
<tr class="separator:ab7b6b5281a453cd4634c826a7cce014c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada19a030acd42f55d171ed8a547fba54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada19a030acd42f55d171ed8a547fba54"></a>
const wchar_t *&#160;</td><td class="memItemRight" valign="bottom"><b>path</b> () const </td></tr>
<tr class="separator:ada19a030acd42f55d171ed8a547fba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af15a5819ce0a5b564b0d093eb4f3fee8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af15a5819ce0a5b564b0d093eb4f3fee8"></a>
fd_t&#160;</td><td class="memItemRight" valign="bottom"><b>handle</b> () const </td></tr>
<tr class="separator:af15a5819ce0a5b564b0d093eb4f3fee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af411237ebe5b9a04ee38d3734297be52"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#af411237ebe5b9a04ee38d3734297be52">map</a> (size_t index=0)</td></tr>
<tr class="separator:af411237ebe5b9a04ee38d3734297be52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af5a845a24df65731b09704a823df34"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a5af5a845a24df65731b09704a823df34">mapSize</a> () const </td></tr>
<tr class="separator:a5af5a845a24df65731b09704a823df34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f0e30846f147687a33bd0757cedee30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f0e30846f147687a33bd0757cedee30"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a2f0e30846f147687a33bd0757cedee30">numMaps</a> () const </td></tr>
<tr class="memdesc:a2f0e30846f147687a33bd0757cedee30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of views the file is mapped to. <br /></td></tr>
<tr class="separator:a2f0e30846f147687a33bd0757cedee30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab275fb50891bbff0e489ddd1f20cfac0"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#ab275fb50891bbff0e489ddd1f20cfac0">offset</a> (size_t index=0) const </td></tr>
<tr class="separator:ab275fb50891bbff0e489ddd1f20cfac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841855191856d26a393a0fc8e620876c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a841855191856d26a393a0fc8e620876c"></a>
unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a841855191856d26a393a0fc8e620876c">size</a> () const </td></tr>
<tr class="memdesc:a841855191856d26a393a0fc8e620876c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file size in bytes. <br /></td></tr>
<tr class="separator:a841855191856d26a393a0fc8e620876c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05981007ad2f3186c7f2a36cc27328a8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a05981007ad2f3186c7f2a36cc27328a8"></a>
const unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a05981007ad2f3186c7f2a36cc27328a8">addrOf</a> (unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#ab275fb50891bbff0e489ddd1f20cfac0">offset</a>) const </td></tr>
<tr class="memdesc:a05981007ad2f3186c7f2a36cc27328a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the address of given file byte offset. <br /></td></tr>
<tr class="separator:a05981007ad2f3186c7f2a36cc27328a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35038490fc6ff04a1a15827e3ec9c771"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a35038490fc6ff04a1a15827e3ec9c771">addrOf</a> (unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#ab275fb50891bbff0e489ddd1f20cfac0">offset</a>)</td></tr>
<tr class="separator:a35038490fc6ff04a1a15827e3ec9c771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0eafa8c51ae28cff404cd7bddc257ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#ab0eafa8c51ae28cff404cd7bddc257ec">copyBytes</a> (unsigned long long dst, unsigned long long src, size_t byteCount)</td></tr>
<tr class="separator:ab0eafa8c51ae28cff404cd7bddc257ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874484c44d0164069951726928de1bc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a874484c44d0164069951726928de1bc3">getBytes</a> (void *dst, unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#ab275fb50891bbff0e489ddd1f20cfac0">offset</a>, size_t byteCount) const </td></tr>
<tr class="separator:a874484c44d0164069951726928de1bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15434e87eabf86269605d3e0178626dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a15434e87eabf86269605d3e0178626dd">setBytes</a> (unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#ab275fb50891bbff0e489ddd1f20cfac0">offset</a>, size_t byteCount, const void *src, bool allowOverlaps=false)</td></tr>
<tr class="separator:a15434e87eabf86269605d3e0178626dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261de8428e485797b0c000a6f7f04685"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a261de8428e485797b0c000a6f7f04685">isOk</a> () const </td></tr>
<tr class="separator:a261de8428e485797b0c000a6f7f04685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c206ab704e78fb886dba051a8640f63"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a7c206ab704e78fb886dba051a8640f63">loadFrom</a> (const wchar_t *path)</td></tr>
<tr class="separator:a7c206ab704e78fb886dba051a8640f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d9d0632450fe02b41bb8751760c855"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#ad1d9d0632450fe02b41bb8751760c855">remap</a> (const wchar_t *path, bool readOnly, unsigned int <a class="el" href="classsyskit_1_1MappedFile.html#a5af5a845a24df65731b09704a823df34">mapSize</a>=0)</td></tr>
<tr class="separator:ad1d9d0632450fe02b41bb8751760c855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642cb5f5e83e8bd423c14f49dfdfea2e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsyskit_1_1MappedFile.html#a642cb5f5e83e8bd423c14f49dfdfea2e">resize</a> (unsigned long long <a class="el" href="classsyskit_1_1MappedFile.html#a841855191856d26a393a0fc8e620876c">size</a>)</td></tr>
<tr class="separator:a642cb5f5e83e8bd423c14f49dfdfea2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>memory-mapped file </p>
<p>A class representing a memory-mapped file with fragmentation tolerance. A large file being mapped to one view can fail due to fragmentation. Fragmentation tolerance is supported by allowing a file to be mapped to multiple views. The view size can be specified at construction. A view size of zero is allowed to indicate no limit (i.e., use one and only one view regardless of file size). Example: </p><div class="fragment"><div class="line"><a class="code" href="classsyskit_1_1MappedFile.html#ad75792539f0a7863bb2e315fac587216">MappedFile</a> file(<span class="stringliteral">&quot;some-file&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = file.map();</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* pEnd = p + file.size();</div>
<div class="line"><span class="keywordflow">for</span> (; p&lt;pEnd; ++p)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//do something with each byte from the file</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="MappedFile_8hpp_source.html#l00015">15</a> of file <a class="el" href="MappedFile_8hpp_source.html">MappedFile.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad75792539f0a7863bb2e315fac587216"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">syskit::MappedFile::MappedFile </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>readOnly</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mapSize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map given existing file. A zero mapSize in bytes indicates no limit (i.e., use one and only one view regardless of file size). With a non-zero limit, a file can be mapped into multiple views. Each view except the last covers a contiguous area of this size. The last view covers a contiguous area up to this size. The file is mapped in read-only mode if readOnly is true. Otherwise, the mapped file is writable. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00025">25</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3925384c3ba1aec68375eee02bf2643a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">syskit::MappedFile::MappedFile </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>failIfExists</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mapSize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create and map given file. A zero mapSize in bytes indicates no limit (i.e., use one and only one view regardless of file size). With a non-zero limit, a file can be mapped into multiple views. Each view except the last covers a contiguous area of this size. The last view covers a contiguous area up to this size. The file is created to be size bytes long initially. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00041">41</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a35038490fc6ff04a1a15827e3ec9c771"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char * syskit::MappedFile::addrOf </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the address of given file byte offset. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00118">118</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab0eafa8c51ae28cff404cd7bddc257ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syskit::MappedFile::copyBytes </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>byteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy bytes between two locations in the file. The two locations can overlap. Behavior is unpredictable if current file size is insufficient. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00140">140</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a874484c44d0164069951726928de1bc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syskit::MappedFile::getBytes </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>byteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy bytes, starting at given offset, into given buffer. Behavior is unpredictable if given buffer size is insufficient. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00195">195</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ada359116a3b249f6d136affe6b394eeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool syskit::MappedFile::grow </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Grow file if it has less than size bytes. Return true if growth successfully occurred. </p>

<p>Definition at line <a class="el" href="MappedFile_8hpp_source.html#l00097">97</a> of file <a class="el" href="MappedFile_8hpp_source.html">MappedFile.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a261de8428e485797b0c000a6f7f04685"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool syskit::MappedFile::isOk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if instance was constructed successfully. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00057">57</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7c206ab704e78fb886dba051a8640f63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool syskit::MappedFile::loadFrom </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy existing contents. Load new contents from given path. Return true if successful. </p>

<p>Reimplemented in <a class="el" href="classsyskit_1_1MappedTxtFile.html#a3432210da1eb291579bce89d2a767ac7">syskit::MappedTxtFile</a>.</p>

<p>Definition at line <a class="el" href="MappedFile-linux_8cpp_source.html#l00073">73</a> of file <a class="el" href="MappedFile-linux_8cpp_source.html">MappedFile-linux.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af411237ebe5b9a04ee38d3734297be52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char * syskit::MappedFile::map </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the address of the given view. First view has index zero. Behavior is unpredictable if updates are attempted against a read-only file. </p>

<p>Definition at line <a class="el" href="MappedFile_8hpp_source.html#l00142">142</a> of file <a class="el" href="MappedFile_8hpp_source.html">MappedFile.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5af5a845a24df65731b09704a823df34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int syskit::MappedFile::mapSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the memory map size (aka view size) in bytes. A zero indicates no limit (i.e., use one and only one view regardless of file size). With a non-zero limit, a file can be mapped into multiple views. Each view except the last covers a contiguous area of this size. The last view covers a contiguous area up to this size. </p>

<p>Definition at line <a class="el" href="MappedFile_8hpp_source.html#l00152">152</a> of file <a class="el" href="MappedFile_8hpp_source.html">MappedFile.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab275fb50891bbff0e489ddd1f20cfac0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long syskit::MappedFile::offset </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the offset of the given view. First view has index zero. Return zero if file is empty. </p>

<p>Definition at line <a class="el" href="MappedFile_8hpp_source.html#l00165">165</a> of file <a class="el" href="MappedFile_8hpp_source.html">MappedFile.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad1d9d0632450fe02b41bb8751760c855"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool syskit::MappedFile::remap </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>readOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mapSize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset and map given file. A zero mapSize in bytes indicates no limit (i.e., use one and only one view regardless of file size). With a non-zero limit, a file can be mapped into multiple views. Each view except the last covers a contiguous area of this size. The last view covers a contiguous area up to this size. Given file is mapped in read-only mode if readOnly is true. Otherwise, the mapped file is writable. </p>

<p>Reimplemented in <a class="el" href="classsyskit_1_1MappedTxtFile.html#a548a390a09928a893e262562d871bc9b">syskit::MappedTxtFile</a>.</p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00070">70</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a642cb5f5e83e8bd423c14f49dfdfea2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool syskit::MappedFile::resize </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resize file. No-op if same size or if mapped file is read-only. Return true if successful. </p>

<p>Reimplemented in <a class="el" href="classsyskit_1_1MappedTxtFile.html#ab8d95bd2d28a5b5a3f6dc42f5d38bae2">syskit::MappedTxtFile</a>.</p>

<p>Definition at line <a class="el" href="MappedFile-linux_8cpp_source.html#l00131">131</a> of file <a class="el" href="MappedFile-linux_8cpp_source.html">MappedFile-linux.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a75fdd7e4ab3e47a093ccaa3a713d865b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool syskit::MappedFile::saveIn </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Save contents in given path. Destroy existing contents at destination if necessary. Return true if successful. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00085">85</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a15434e87eabf86269605d3e0178626dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syskit::MappedFile::setBytes </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>byteCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowOverlaps</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy bytes, from given buffer, into file starting at given offset. If given buffer also resides in the file and might overlap with the destination, allowOverlaps should be set to true. In general, copying bytes between two locations that might overlap is more expensive than copying bytes between two locations that do not overlap. Behavior is unpredictable if current file size is insufficient. </p>

<p>Definition at line <a class="el" href="MappedFile_8cpp_source.html#l00251">251</a> of file <a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a682e3c5e11fa071b7430b26358b2a44b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool syskit::MappedFile::truncate </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Truncate file if it has more than size bytes. Return true if truncation successfully occurred. </p>

<p>Definition at line <a class="el" href="MappedFile_8hpp_source.html#l00111">111</a> of file <a class="el" href="MappedFile_8hpp_source.html">MappedFile.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>syskit/<a class="el" href="MappedFile_8hpp_source.html">MappedFile.hpp</a></li>
<li>syskit/linux/<a class="el" href="MappedFile-linux_8cpp_source.html">MappedFile-linux.cpp</a></li>
<li>syskit/<a class="el" href="MappedFile_8cpp_source.html">MappedFile.cpp</a></li>
<li>syskit/win/<a class="el" href="MappedFile-win_8cpp_source.html">MappedFile-win.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 5 2014 16:12:56 for c++ gallery by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
